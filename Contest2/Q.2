/*
Beautiful Pairs 
You are given a sequence A1,A2,…,AN. An ordered pair of indices (i,j) in this sequence is called a beautiful pair if i≠j and (Ai−Aj)/Ai < (Ai−Aj)/Aj. (Here, division represents real division, e.g. 52 is equal to 2.50.)

eg: 4 2 4
    4
    
    The beautiful pairs of indices are (1,2),(2,1),(2,3),(3,2).

For the pair (1,2): 4−2/4 < 4−2/2 since 0.5<1.
For the pair (2,1): 2−4/2 < 2−4/4 since −1<−0.5.
For the pair (2,3): 2−4/2 < 2−4/4 since −1<−0.5.
For the pair (3,2): 4−2/4 < 4−2/2 since 0.5<1.

*/


import java.util.*;
import java.io.*;

class Codechef {
	public static void main (String[] args) {
		Scanner in = new Scanner(System.in);
		
		int t;
		t=in.nextInt();
		
		while(t>0)
		{
		    t--;
		    int n=in.nextInt();
		    int a[]=new int[n];
		    
		    for(int i=0;i<n;i++)
		    {
		        a[i]=in.nextInt();
		    }
		    
		    long count=0;
		    
		    HashMap<Integer,Integer>M=new HashMap<>();
		    
		    for(int i=0;i<n;i++)
		    {
		        if(M.containsKey(a[i]))
		        {
		             M.put(a[i],M.get(a[i])+1);
		        }
		        else
		        M.put(a[i],1);
		    }
		    
		    //Arrays.sort(a);
		    for(int i=0;i<n;i++)
		    {
		        count+=(n-(M.get(a[i])));
		    }
		    
		    System.out.println(count);
		}
	}
}
